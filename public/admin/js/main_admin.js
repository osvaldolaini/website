const appurlmeta=document.querySelector("meta[name='app_url']"),APP_URL=appurlmeta.getAttribute("content"),CSRF_TOKEN=$('meta[name="csrf-token"]').attr("content");function money(a){return new Intl.NumberFormat("pt-BR",{minimumFractionDigits:2}).format(a).replace("R$","")}function dataDB(a){return(a=a.split("/"))[2]+"-"+a[1]+"-"+a[0]}$.ajaxSetup({headers:{"X-CSRF-TOKEN":CSRF_TOKEN}}),$(document).ready(function(){$('[data-tooltip="tooltip"]').tooltip(),$("body").tooltip({selector:'[data-tooltip="tooltip"]'})});var Main_admin={init:function(){!function(){function a(){$('[name="address"]').val(""),$('[name="district"]').val(""),$('[name="city"]').val(""),$('[name="state"]').val(""),$('[name="number"]').val("")}$("[name='postalCode']").blur(function(){var t=$(this).val().replace(/\D/g,"");""!=t?/^[0-9]{8}$/.test(t)?($('[name="address"]').val("..."),$('[name="district"]').val("..."),$('[name="city"]').val("..."),$('[name="state"]').val("..."),$('[name="number"]').val("..."),$.getJSON("https://viacep.com.br/ws/"+t+"/json/?callback=?",function(t){"erro"in t?(a(),Swal.fire({icon:"error",title:"Erro!",text:"CEP não encontrado."})):($('[name="address"]').val(t.logradouro),$('[name="district"]').val(t.bairro),$('[name="city"]').val(t.localidade),$('[name="state"]').val(t.uf),$('[name="number"]').focus())})):(a(),Swal.fire({icon:"error",title:"Erro!",text:"Formato de CEP inválido."})):a()})}(),$.getScript(APP_URL+"/admin/js/jquery.mask.min.js",function(){$(".date").mask("00/00/0000"),$(".hour").mask("00:00"),$('[name="postalCode"]').mask("00000-000"),$('[name="cpf"]').mask("000.000.000-00"),$(".money").mask("000.000.000.000.000,00",{reverse:!0});var a=function(a){return 11===a.replace(/\D/g,"").length?"(00) 00000-0000":"(00) 0000-00009"},t={onKeyPress:function(t,e,n,r){n.mask(a.apply({},arguments),r)}};$(".phones").mask(a,t);var e=function(a){return a.replace(/\D/g,"").length>13?"00.000.000/0000-00":"000.000.000-00000"};t={onKeyPress:function(a,t,n,r){n.mask(e.apply({},arguments),r)}},$(".cnpj").mask(e,t)})}};jQuery(document).ready(function(){Main_admin.init()});
